# 文件时间校验工具 - EXE 打包指南

## 当前状态
✅ 已完成：Fat JAR 编译 (`target/filetimecheck-1.0-SNAPSHOT.jar`)
⏳ 待完成：EXE 打包

---

## 方式1：使用 jpackage 打包（推荐）

### 前置条件：安装 WiX Toolset

jpackage 需要 WiX (Windows Installer XML) 工具集才能创建 EXE。

#### 下载 WiX
1. 访问：https://wixtoolset.org/releases/
2. 下载：`wix311-binaries.zip` (约 90MB)
3. 解压到：`C:\wix` 或任意目录

#### 配置环境变量
**方法 A：临时配置（当前会话有效）**
```cmd
set PATH=C:\wix\bin;%PATH%
```

**方法 B：永久配置**
1. 右键 "此电脑" -> 属性 -> 高级系统设置
2. 环境变量 -> 系统变量 -> Path -> 编辑
3. 添加：`C:\wix\bin`
4. 重启命令行

#### 验证安装
```cmd
candle.exe -?
light.exe -?
```
如果显示帮助信息，说明安装成功。

### 执行打包
```cmd
cd D:\idea-workspace\filetimecheck
mvn clean package -Ppackage
jpackage --input target --name "文件时间校验工具" --main-jar filetimecheck-1.0-SNAPSHOT.jar --main-class com.aypak.filetimecheck.HelloApplication --type exe --dest target/dist --app-version 1.0.0 --vendor aypak --win-menu --win-shortcut
```

### 输出
打包成功后，EXE 文件位于：
```
target/dist/文件时间校验工具-1.0.0.exe
```

---

## 方式2：使用 Launch4j（无需 WiX）

### 步骤
1. 下载 Launch4j：http://launch4j.sourceforge.net/
2. 解压并运行 `launch4j.exe`
3. 配置：
   - Output file: `target/文件时间校验工具.exe`
   - Jar: `target/filetimecheck-1.0-SNAPSHOT.jar`
   - Min JRE version: `17`
   - GUI header: 勾选
4. 点击 "Build" 按钮

---

## 方式3：在线打包服务

1. **Jar2Exe** - https://www.jar2exe.com/
   - 上传 JAR 文件即可在线转换

2. **JWrapper** - https://www.jwrapper.com/
   - 免费打包服务

---

## 当前文件说明

| 文件 | 路径 | 说明 |
|------|------|------|
| Fat JAR | `target/filetimecheck-1.0-SNAPSHOT.jar` | 包含所有依赖的可执行 JAR |
| 启动脚本 | `启动.bat` | 一键启动应用 |
| 打包脚本 | `打包为EXE.bat` | 交互式打包工具 |

---

## 快速测试

### 方法1：双击 JAR
直接双击 `target/filetimecheck-1.0-SNAPSHOT.jar`（需要 JRE 17+）

### 方法2：使用启动脚本
双击 `启动.bat`

### 方法3：命令行运行
```cmd
java -jar target\filetimecheck-1.0-SNAPSHOT.jar
```
